<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="content="width=device-width, initial-scale=1.0, viewport-fit=cover"">
    <title>CIELITO LINDO - Menú Digital Premium</title>
    <!-- Incluye Tailwind CSS para un diseño 100% responsive -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Bebas+Neue&family=Merriweather:ital@1&display=swap" rel="stylesheet">
    <!-- Iconos de Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-red': '#E63946',    // Rojo Vibrante (Chile)
                        'brand-gold': '#FFC000',   // Dorado Brillante
                        'brand-green': '#5D9A58',  // Verde Lima/Bandera
                        'dark-bg': '#181818',      // Negro Profundo
                        'light-text': '#F5F5F5',   // Blanco Suave
                    },
                    fontFamily: {
                        'header': ['Bebas Neue', 'sans-serif'],
                        'body': ['Inter', 'sans-serif'],
                        'quote': ['Merriweather', 'serif'],
                    },
                    keyframes: {
                        'fadeInUp': {
                            '0%': { opacity: '0', transform: 'translateY(15px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        'float': {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-5px)' },
                        },
                        'modal-in': {
                            '0%': { opacity: '0', transform: 'scale(0.95)' },
                            '100%': { opacity: '1', transform: 'scale(1)' },
                        }
                    },
                    animation: {
                        'hero-appear': 'fadeInUp 1s ease-out',
                        'float-effect': 'float 3s ease-in-out infinite',
                        'modal-open': 'modal-in 0.3s ease-out',
                    }
                }
            }
        }
    </script>

    <style>
        /* Estilos generales para el ambiente oscuro */
        body { 
            background-color: #0A0A0A; 
            color: var(--light-text); 
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }

        /* Títulos principales con la fuente Bebas Neue */
        .title-font {
            font-family: 'Bebas Neue', sans-serif;
            letter-spacing: 0.1em;
        }

        /* Estilo para el Hero Section con patrón sutil (Para admirar la página) */
        .hero-background {
            background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.8)), url('uploaded:image_dec9c6.jpg-b5a13fb1-becf-40b4-86f6-5d78d42789f6');
            background-size: cover;
            background-position: center;
        }

        /* Barra de Búsqueda con estilo destacado */
        #search-input {
            border: 2px solid #3d3d3d;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        #search-input:focus {
            border-color: #FFC000;
            box-shadow: 0 0 15px rgba(255, 192, 0, 0.5);
            background-color: #121212;
        }
        
        /* Contenedor del menú para el efecto de sombra */
        .menu-container {
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.7);
        }

        /* Estilo para el botón de WhatsApp (Flotante) */
        .whatsapp-float {
            background-color: #5D9A58; /* Verde Lima */
            box-shadow: 0 0 15px rgba(93, 154, 88, 0.8);
            transition: transform 0.3s;
        }
        .whatsapp-float:hover {
            transform: scale(1.1) rotate(5deg);
        }

        /* Estilo para los precios */
        .price-tag {
            background-color: #262626;
            color: #E63946;
            border: 1px solid #E63946;
        }
        
        /* Estilos de la lista de proteínas */
        .proteins-list {
            border-left: 3px solid var(--brand-gold);
            padding-left: 0.75rem;
            margin-top: 0.5rem;
        }

        /* Animación para el botón CTA */
        .cta-button {
            transition: all 0.3s;
        }
        .cta-button:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px -5px rgba(255, 192, 0, 0.6);
        }

        /* Estilo para el modal de imagen */
        #image-modal-backdrop {
            background-color: rgba(0, 0, 0, 0.95);
        }

        /* Estilo para los botones de filtro */
        .filter-btn {
            white-space: nowrap; /* Evita que el texto del botón se rompa */
            transition: all 0.3s;
        }
        .filter-btn.active {
            background-color: #E63946;
            color: #F5F5F5;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(230, 57, 70, 0.5);
        }

        /* Estilo para el contenedor de filtros que permite scroll horizontal sin scrollbar */
        .horizontal-scroll {
            overflow-x: auto;
            -ms-overflow-style: none; /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        .horizontal-scroll::-webkit-scrollbar {
            display: none; /* Chrome, Safari and Opera */
        }
    </style>
</head>

<body>

    <!-- DATA DEL RESTAURANTE CON URLS DE IMAGEN -->
    <script>
        const proteinsES = "Tinga, Chicharrón, Pastor, Lengua, Camarón, Cerdo Desmechado, Chorizo Vegano, Champiñón, Pollo, Chorizo";
        const proteinsEN = "Tinga, Pork Rind, Pastor, Tongue, Shrimp, Shredded Pork, Vegan Sausage, Mushroom, Chicken, Sausage";
        
        const content = {
            es: {
                proteinsLabel: "Proteínas a Elegir:",
                proteins: proteinsES,
                allProteinsList: proteinsES.split(', ').map(p => p.trim()),
                categories: {
                    starters: { label: "Entradas", icon: "fa-seedling" },
                    main: { label: "Platos Fuertes", icon: "fa-hotdog" },
                    fastFood: { label: "Comida Rápida", icon: "fa-burger" },
                    drinks: { label: "Bebidas", icon: "fa-mug-hot" }
                },
                menuItems: {
                    starters: [ 
                        // Imágenes proporcionadas por el usuario
                        { name: "ELOTES", desc: "Cubiertas de Doritos, mayonesa, queso y tajín.", price: "18000", customizable: false, category: "Entradas", imgUrl: 'uploaded:image_55b70d.jpg-8b4a9646-29f0-45a5-a605-f55aee275329' },
                        { name: "SOPA MEXICANA", desc: "Sopa de tomate, con trocitos de aguacate, pollo, queso, maíz, totopo y cilantro.", price: "15000", customizable: false, category: "Entradas", imgUrl: 'uploaded:image_df450c.jpg-71a49222-c77a-4e4c-99ba-60a3338e5869' },
                        { name: "TRIO DE TACOS", desc: "Tortilla de maíz artesanal acompañado de la carne de su elección con cebolla, cilantro y guacamole.", price: "23000", customizable: true, category: "Entradas", imgUrl: 'uploaded:image_df4566.jpg-954d874b-b76c-460d-86df-73562b5769ef' },
                        { name: "FLAUTAS AHOGADAS", desc: "Tortillas de maíz rellenas de pollo, sumergida en guacamole, crema agria y frijol. (3 und)", price: "20000", customizable: false, category: "Entradas", imgUrl: 'uploaded:image_df5105.jpg-cefef5cf-4dfc-4547-99b5-03859145e196' },
                    ],
                    main: [ 
                        { name: "BURRITO BÁSICO", desc: "Tortilla grande rellena de carne, arroz, frijoles, queso, aguacate, pepinillos y guacamole.", price: "28000", customizable: true, category: "Fuertes", imgUrl: 'uploaded:image_570c86.jpg-d7316e9f-d402-4a55-9c24-80c4da0e726f' },
                        { name: "BURRITO CLÁSICO", desc: "Tortilla grande, arroz, frijoles, queso, aguacate, pepinillos, carne de la selección, guacamole y ají de la casa.", price: "32000", customizable: true, category: "Fuertes", imgUrl: 'uploaded:image_570c86.jpg-d7316e9f-d402-4a55-9c24-80c4da0e726f' },
                        { name: "QUESADILLAS", desc: "Tortilla de harina y queso, carne de su elección, guacamole.", price: "20000", customizable: true, category: "Fuertes", imgUrl: 'uploaded:image_de7769.jpg-092f3ba2-49d7-4338-ba55-6a0e38f1d347' },
                        { name: "GRINGAS", desc: "Dos tortillas de harina, carne, piña asada, cebolla, cilantro, queso peruano y frijol.", price: "22000", customizable: true, category: "Fuertes", imgUrl: 'uploaded:image_de778d.jpg-b089eb52-fc4d-4864-ba56-6b0bb82eb5c4' },
                        { name: "BOWL MEXICANO", desc: "Arroz, frijol refrito, aguacate, pepinillos, carne de la selección, guacamole, crema agria y salsa roja.", price: "25000", customizable: true, category: "Fuertes", imgUrl: 'https://placehold.co/800x600/181818/FFC000?text=BOWL+MEXICANO' },
                        { name: "CHILAQUILES", desc: "Totopos de maíz bañados en salsa verde o roja, carne de su elección, crema agria y queso.", price: "28000", customizable: true, category: "Fuertes", imgUrl: 'https://placehold.co/800x600/181818/FFC000?text=CHILAQUILES' },
                    ],
                    fastFood: [ 
                        { name: "SALCHIPAPAS RÍO GRANDE", desc: "Salchipapas con pollo desmechado, queso fundido, cebolla, cilantro y pico de gallo.", price: "25000", customizable: false, category: "Comida Rápida", imgUrl: 'uploaded:image_dee0a2.jpg-d563bab4-9d6b-4a84-b080-3d9f5240845b' },
                        { name: "HAMBURGUESA CLÁSICA", desc: "Carne, queso, tomate, cebolla, lechuga y salsa de la casa.", price: "22000", customizable: false, category: "Comida Rápida", imgUrl: 'https://placehold.co/800x600/181818/E63946?text=HAMBURGUESA+CLASICA' },
                        { name: "HAMBURGUESA MEXICANA", desc: "Carne, queso, tomate, cebolla, lechuga, salsa de la casa, jalapeños, guacamole y totopos.", price: "25000", customizable: false, category: "Comida Rápida", imgUrl: 'https://placehold.co/800x600/181818/E63946?text=HAMBURGUESA+MEXICANA' },
                    ],
                    drinks: [ 
                        { name: "CHAMOYADA DE MANGO", desc: "Nuestra bebida refrescante y picantita.", price: "14000", customizable: false, category: "Bebidas", imgUrl: 'uploaded:image_df45a7.jpg-2e8a4e6e-6c95-4681-9f1e-90d1d2b60d87' },
                        { name: "LIMONADAS", desc: "Natural, Coco, Hierbabuena, Cereza.", price: "12000", customizable: false, category: "Bebidas", imgUrl: 'https://placehold.co/800x600/181818/5D9A58?text=LIMONADAS' },
                        { name: "GASEOSA PERSONAL", desc: "Coca Cola, Quatro, Sprite.", price: "6000", customizable: false, category: "Bebidas", imgUrl: 'https://placehold.co/800x600/181818/5D9A58?text=GASEOSA' },
                    ],
                }
            },
            en: {
                proteinsLabel: "Available Proteins:",
                proteins: proteinsEN,
                allProteinsList: proteinsEN.split(', ').map(p => p.trim()),
                categories: {
                    starters: { label: "Starters", icon: "fa-seedling" },
                    main: { label: "Main Dishes", icon: "fa-hotdog" },
                    fastFood: { label: "Fast Food", icon: "fa-burger" },
                    drinks: { label: "Drinks", icon: "fa-mug-hot" }
                },
                menuItems: {
                     starters: [ 
                        { name: "ELOTES", desc: "Covered with Doritos, mayonnaise, cheese, and tajín.", price: "18000", customizable: false, category: "Starters", imgUrl: 'uploaded:image_55b70d.jpg-8b4a9646-29f0-45a5-a605-f55aee275329' },
                        { name: "MEXICAN SOUP", desc: "Tomato soup with avocado chunks, chicken, cheese, corn, totopo, and cilantro.", price: "15000", customizable: false, category: "Starters", imgUrl: 'uploaded:image_df450c.jpg-71a49222-c77a-4e4c-99ba-60a3338e5869' },
                        { name: "TACO TRIO", desc: "Artisanal corn tortilla with meat of your choice, onion, cilantro, and guacamole.", price: "23000", customizable: true, category: "Starters", imgUrl: 'uploaded:image_df4566.jpg-954d874b-b76c-460d-86df-73562b5769ef' },
                        { name: "DROWNED FLAUTAS", desc: "Corn tortillas filled with shredded chicken, submerged in guacamole, sour cream and beans. (3 units)", price: "20000", customizable: false, category: "Starters", imgUrl: 'uploaded:image_df5105.jpg-cefef5cf-4dfc-4547-99b5-03859145e196' },
                    ],
                    main: [ 
                        { name: "BASIC BURRITO", desc: "Large tortilla filled with meat, rice, beans, cheese, avocado, pickles, and guacamole.", price: "28000", customizable: true, category: "Main Dishes", imgUrl: 'uploaded:image_570c86.jpg-d7316e9f-d402-4a55-9c24-80c4da0e726f' },
                        { name: "CLASSIC BURRITO", desc: "Large tortilla, rice, beans, cheese, avocado, pickles, meat of choice, guacamole, and house chili.", price: "32000", customizable: true, category: "Main Dishes", imgUrl: 'uploaded:image_570c86.jpg-d7316e9f-d402-4a55-9c24-80c4da0e726f' },
                        { name: "QUESADILLAS", desc: "Flour tortilla and cheese, meat of your choice, guacamole.", price: "20000", customizable: true, category: "Main Dishes", imgUrl: 'uploaded:image_de7769.jpg-092f3ba2-49d7-4338-ba55-6a0e38f1d347' },
                        { name: "GRINGAS", desc: "Two flour tortillas, meat, grilled pineapple, onion, cilantro, Peruvian cheese, and beans.", price: "22000", customizable: true, category: "Main Dishes", imgUrl: 'uploaded:image_de778d.jpg-b089eb52-fc4d-4864-ba56-6b0bb82eb5c4' },
                        { name: "MEXICAN BOWL", desc: "Rice, refried beans, avocado, pickles, meat of choice, guacamole, sour cream, and red sauce.", price: "25000", customizable: true, category: "Main Dishes", imgUrl: 'https://placehold.co/800x600/181818/FFC000?text=MEXICAN+BOWL' },
                        { name: "CHILAQUILES", desc: "Corn chips bathed in green or red sauce, meat of your choice, sour cream, and cheese.", price: "28000", customizable: true, category: "Main Dishes", imgUrl: 'https://placehold.co/800x600/181818/FFC000?text=CHILAQUILES' },
                    ],
                    fastFood: [ 
                        { name: "RIO GRANDE SALCHIPAPAS", desc: "Salchipapas with shredded chicken, melted cheese, onion, cilantro, and pico de gallo.", price: "25000", customizable: false, category: "Fast Food", imgUrl: 'uploaded:image_dee0a2.jpg-d563bab4-9d6b-4a84-b080-3d9f5240845b' },
                        { name: "CLASSIC BURGER", desc: "Meat, cheese, tomato, onion, lettuce, and house sauce.", price: "22000", customizable: false, category: "Fast Food", imgUrl: 'https://placehold.co/800x600/181818/E63946?text=CLASSIC+BURGER' },
                        { name: "MEXICAN BURGER", desc: "Meat, cheese, tomato, onion, lettuce, house sauce, jalapeños, guacamole, and totopos.", price: "25000", customizable: false, category: "Fast Food", imgUrl: 'https://placehold.co/800x600/181818/E63946?text=MEXICAN+BURGER' },
                    ],
                    drinks: [ 
                        { name: "MANGO CHAMOYADA", desc: "Our refreshing and spicy drink.", price: "14000", customizable: false, category: "Drinks", imgUrl: 'uploaded:image_df45a7.jpg-2e8a4e6e-6c95-4681-9f1e-90d1d2b60d87' },
                        { name: "LIMONADAS", desc: "Natural, Coco, Hierbabuena, Cereza.", price: "12000", customizable: false, category: "Drinks", imgUrl: 'https://placehold.co/800x600/181818/5D9A58?text=LEMONADES' },
                        { name: "GASEOSA PERSONAL", desc: "Coca Cola, Quatro, Sprite.", price: "6000", customizable: false, category: "Drinks", imgUrl: 'https://placehold.co/800x600/181818/5D9A58?text=SODA' },
                    ],
                }
            }
        };

        let currentLang = 'es'; 
        let currentFilter = 'all'; // 'all', 'starters', 'main', 'fastFood', 'drinks'

        // Función para formatear el precio a COP (Colombian Pesos)
        function formatCOP(price) {
            return new Intl.NumberFormat('es-CO', { 
                style: 'currency', 
                currency: 'COP', 
                minimumFractionDigits: 0 
            }).format(price);
        }

        // Función para obtener todos los items de menú
        function getAllMenuItems(lang) {
            const items = [];
            const menuData = content[lang].menuItems;
            for (const category in menuData) {
                items.push(...menuData[category].map(item => ({ ...item, section: category })));
            }
            return items;
        }

        // Función para renderizar un item del menú
        function renderMenuItem(item, lang) {
            const proteinsList = content[lang].proteins;
            const proteinsLabel = content[lang].proteinsLabel;
            const priceCOP = formatCOP(item.price);
            
            // Si el plato es personalizable, agrega el listado de proteínas
            const proteinsHtml = item.customizable ? `
                <div class="proteins-list bg-dark-bg/50 p-2 rounded-md transition duration-300 mt-2 hover:bg-dark-bg">
                    <p class="text-xs font-semibold text-brand-gold mb-1">${proteinsLabel}</p>
                    <p class="text-[11px] text-gray-400">${proteinsList}</p>
                </div>
            ` : '';

            // Importante: Agregar el listener para abrir el modal
            return `
                <div class="menu-item-card py-4 border-b border-gray-700/50 transition duration-300 hover:bg-dark-bg/30 px-2 rounded-lg cursor-pointer" 
                     data-name="${item.name.toLowerCase()}" 
                     data-desc="${item.desc.toLowerCase()}"
                     data-customizable="${item.customizable}"
                     data-item-name="${item.name}"
                     data-item-desc="${item.desc}"
                     data-item-img="${item.imgUrl}"
                     onclick="openImageModal('${item.name}', '${item.desc.replace(/'/g, "\\'")}', '${item.imgUrl}')">
                    
                    <div class="flex justify-between items-start">
                        <div class="mr-4">
                            <p class="font-bold text-light-text text-lg">${item.name}</p>
                            <p class="text-sm text-gray-400 italic">${item.desc}</p>
                        </div>
                        <span class="price-tag px-3 py-1 font-black text-lg rounded-full">${priceCOP}</span>
                    </div>
                    ${proteinsHtml}
                </div>
            `;
        }

        // --- FUNCIONES DE FILTRO Y BÚSQUEDA ---

        function filterMenuByCategory(categoryKey) {
            currentFilter = categoryKey;
            const allItems = getAllMenuItems(currentLang);
            const menuContent = document.getElementById('menu-content');
            
            // 1. Manejar el estado activo de los botones de filtro
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active', 'bg-brand-red'));
            document.getElementById(`filter-${categoryKey}`).classList.add('active', 'bg-brand-red');

            // 2. Filtrar elementos
            const filteredItems = allItems.filter(item => 
                categoryKey === 'all' || item.section === categoryKey
            );

            // 3. Renderizar resultados
            const resultsHtml = filteredItems.map(item => renderMenuItem(item, currentLang)).join('');
            menuContent.innerHTML = resultsHtml;

            // 4. Ocultar el campo de búsqueda cuando se filtra por categoría
            document.getElementById('search-input').value = '';
            document.getElementById('search-results').classList.add('hidden');
            document.getElementById('menu').classList.remove('hidden');

            // 5. Scroll al inicio del menú
            document.getElementById('menu').scrollIntoView({ behavior: 'smooth' });
        }
        
        function filterMenuBySearch() {
            const query = document.getElementById('search-input').value.toLowerCase().trim();
            const searchResultsSection = document.getElementById('search-results');
            const resultsContainer = document.getElementById('results-container');
            const noResultsMessage = document.getElementById('no-results');
            const menuSection = document.getElementById('menu');
            
            // Si la búsqueda está activa, desactiva el filtro de categoría visualmente
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active', 'bg-brand-red'));
            
            if (query.length === 0) {
                // Si la búsqueda está vacía, volvemos a mostrar el menú completo
                searchResultsSection.classList.add('hidden');
                menuSection.classList.remove('hidden');
                filterMenuByCategory('all');
                return; 
            }

            menuSection.classList.add('hidden');
            searchResultsSection.classList.remove('hidden');
            
            const allItems = getAllMenuItems(currentLang);
            const proteinsList = content[currentLang].allProteinsList;

            const filteredItems = allItems.filter(item => {
                const nameMatch = item.name.toLowerCase().includes(query);
                const descMatch = item.desc.toLowerCase().includes(query);
                const categoryMatch = item.category.toLowerCase().includes(query);
                
                // Búsqueda en el listado de proteínas para platos personalizables
                const proteinMatch = item.customizable && proteinsList.some(p => p.toLowerCase().includes(query));

                return nameMatch || descMatch || categoryMatch || proteinMatch;
            });

            // Renderizar resultados
            if (filteredItems.length > 0) {
                const resultsHtml = filteredItems.map(item => renderMenuItem(item, currentLang)).join('');
                resultsContainer.innerHTML = resultsHtml;
                noResultsMessage.classList.add('hidden');
            } else {
                resultsContainer.innerHTML = '';
                noResultsMessage.classList.remove('hidden');
            }
        }


        // --- FUNCIONES DE MODAL DE IMAGEN ---

        function openImageModal(name, desc, imgUrl) {
            const modal = document.getElementById('image-modal');
            document.getElementById('modal-image').src = imgUrl;
            document.getElementById('modal-title').textContent = name;
            document.getElementById('modal-description').textContent = desc;
            
            modal.classList.remove('hidden');
            modal.querySelector('.modal-content').classList.add('animate-modal-open');
        }

        function closeImageModal() {
            const modal = document.getElementById('image-modal');
            modal.classList.add('hidden');
            modal.querySelector('.modal-content').classList.remove('animate-modal-open');
        }


        // --- FUNCIONES DE INICIALIZACIÓN ---

        function setLanguage(lang) {
            currentLang = lang;
            const data = content[lang];

            // 1. Traducir elementos con data-es/data-en
            document.querySelectorAll('[data-es]').forEach(el => {
                const text = el.getAttribute(`data-${lang}`);
                if (text) {
                    el.innerHTML = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                }
            });

            // 1.1 Traducir placeholder de la barra de búsqueda
            const searchInput = document.getElementById('search-input');
            if (searchInput) {
                searchInput.placeholder = searchInput.getAttribute(`data-${lang}-placeholder`);
            }
            
            // 2. Renderizar y traducir botones de filtro
            renderFilterButtons(lang);
            
            // 3. Re-aplicar filtro actual con el nuevo idioma
            if (document.getElementById('search-input').value.trim().length > 0) {
                 filterMenuBySearch();
            } else {
                 filterMenuByCategory(currentFilter);
            }

            // 4. Actualizar botón de idioma
            const toggleButton = document.getElementById('lang-toggle');
            toggleButton.textContent = lang === 'es' ? 'EN' : 'ES';
            document.documentElement.lang = lang; 
        }

        function renderFilterButtons(lang) {
            const categories = content[lang].categories;
            const container = document.getElementById('filter-buttons-container');
            let buttonsHtml = '';

            // Botón 'Todos'
            const allLabel = lang === 'es' ? 'TODO' : 'ALL';
            buttonsHtml += `
                <button id="filter-all" onclick="filterMenuByCategory('all')" 
                        class="filter-btn active bg-brand-red text-light-text text-xs font-semibold py-1.5 px-3 rounded-full shadow-lg">
                    <i class="fas fa-list mr-1"></i> ${allLabel}
                </button>
            `;

            // Botones de Categorías
            for (const key in categories) {
                const cat = categories[key];
                const isActive = key === currentFilter && currentFilter !== 'all';
                const activeClass = isActive ? 'active bg-brand-red' : 'bg-gray-700 hover:bg-gray-600';
                buttonsHtml += `
                    <button id="filter-${key}" onclick="filterMenuByCategory('${key}')" 
                            class="filter-btn ${activeClass} text-light-text text-xs font-semibold py-1.5 px-3 rounded-full shadow-lg">
                        <i class="fas ${cat.icon} mr-1"></i> ${cat.label}
                    </button>
                `;
            }

            container.innerHTML = buttonsHtml;
            // Asegurar que el filtro actual tenga la clase activa
            document.getElementById(`filter-${currentFilter}`).classList.add('active', 'bg-brand-red');
        }


        // Inicialización
        document.addEventListener('DOMContentLoaded', () => {
            setLanguage('es'); 
            document.getElementById('lang-toggle').addEventListener('click', () => {
                setLanguage(currentLang === 'es' ? 'en' : 'es');
            });
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
            document.getElementById('search-input').addEventListener('input', filterMenuBySearch);
        });
    </script>
    
    <!-- WhatsApp Flotante -->
    <a href="https://wa.me/message/KNZ4SJGC4PUPJ" target="_blank" class="whatsapp-float fixed bottom-6 right-6 p-4 rounded-full shadow-lg z-50 transition duration-300 animate-float-effect">
        <i class="fab fa-whatsapp text-3xl text-white"></i>
    </a>

    <!-- 1. Encabezado Fijo y Logo -->
    <header class="sticky top-0 z-50 bg-dark-bg/90 backdrop-blur-sm shadow-xl border-b border-brand-red">
        <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center h-16">
            <!-- Logo CIELITO LINDO con icono -->
            <div class="flex items-center space-x-2">
                <img src="uploaded:image_df3e40.png-c8ee46d9-b29c-46ea-a300-6f30e6cf150d" alt="Logo Cielito Lindo" class="h-10 w-10 rounded-full border-2 border-brand-gold shadow-md">
                <span class="text-3xl font-black title-font text-brand-gold">CIELITO LINDO</span>
            </div>
            
            <!-- Botón de Idioma -->
            <button id="lang-toggle" class="bg-brand-red text-light-text font-black py-2 px-4 rounded-full text-sm shadow-lg hover:bg-red-700 transition duration-200 transform hover:scale-105">
                EN
            </button>
        </div>
    </header>

    <main class="min-h-screen">
        
        <!-- 2. Sección Principal (Hero) - Impacto y Emoción -->
        <section id="inicio" class="hero-background py-20 px-4 text-center">
            <div class="max-w-xl mx-auto animate-hero-appear">
                <h1 class="text-5xl md:text-7xl font-black text-brand-gold leading-tight mb-4 title-font" data-es="¡FIESTA Y SABOR SIN LÍMITES!" data-en="FIESTA AND UNLIMITED FLAVOR!">
                    ¡FIESTA Y SABOR SIN LÍMITES!
                </h1>
                <p class="text-lg text-light-text/80 mb-8 font-quote italic" data-es="El menú que te hará decir '¡Ay, qué lindo es comer en México!'." data-en="The menu that will make you say 'Oh, how beautiful it is to eat in Mexico!'">
                    El menú que te hará decir "¡Ay, qué lindo es comer en México!".
                </p>
                <!-- Llamada a la acción principal -->
                <a href="#menu" class="cta-button inline-block px-10 py-4 bg-brand-gold text-dark-bg font-extrabold text-xl rounded-full shadow-xl">
                    <span data-es="VER EL MENÚ AHORA" data-en="VIEW MENU NOW">VER EL MENÚ AHORA</span>
                </a>
            </div>
        </section>

        <!-- 3. Barra de Navegación (STICKY) para Búsqueda y Filtros -->
        <section class="sticky top-16 z-40 bg-dark-bg p-4 shadow-2xl border-b border-brand-gold/50">
            <div class="max-w-4xl mx-auto space-y-4">
                
                <!-- Búsqueda General (TEXTO REDUCIDO: text-lg -> text-base, py-3 -> py-2.5) -->
                <div class="relative">
                    <input type="text" id="search-input" 
                           class="w-full py-2.5 pl-12 pr-4 text-base rounded-xl bg-gray-800 text-light-text focus:outline-none"
                           placeholder="Buscar un plato, bebida o proteína (Tinga, Pastor...)"
                           data-es-placeholder="Buscar un plato, bebida o proteína (Tinga, Pastor...)"
                           data-en-placeholder="Search for a dish, drink, or protein (Tinga, Pastor...)">
                    <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-brand-gold text-xl"></i>
                </div>

                <!-- Filtros de Categoría (SCROLL HORIZONTAL Y TEXTO REDUCIDO: text-sm -> text-xs, py-2 px-4 -> py-1.5 px-3) -->
                <div id="filter-buttons-container" class="horizontal-scroll flex space-x-3 pb-2">
                    <!-- Los botones de filtro se renderizan aquí por JS -->
                </div>
            </div>
        </section>

        <!-- 4. Sección de Resultados de Búsqueda (Oculta al buscar) -->
        <section id="search-results" class="py-10 px-4 hidden">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold title-font text-brand-red mb-6" data-es="Resultados de Búsqueda" data-en="Search Results">Resultados de Búsqueda</h2>
                <div id="results-container" class="space-y-4 bg-[#1f1f1f] p-6 rounded-xl">
                    <!-- Los resultados de la búsqueda se renderizarán aquí -->
                </div>
                <p id="no-results" class="text-center text-xl text-gray-400 mt-10 hidden" data-es="¡Oops! No encontramos lo que buscas. Intenta con otra palabra." data-en="Oops! We couldn't find what you're looking for. Try another word.">
                    ¡Oops! No encontramos lo que buscas. Intenta con otra palabra.
                </p>
            </div>
        </section>


        <!-- 5. Sección de Menú Filtrado (Principal) -->
        <section id="menu" class="py-10 px-4 bg-dark-bg">
            <div class="max-w-4xl mx-auto menu-container">
                
                <h2 class="text-4xl font-black title-font text-brand-green text-center mb-8 border-b-4 border-brand-gold pb-3" data-es="MENÚ - EXPLOSIÓN DE SABOR" data-en="MENU - FLAVOR EXPLOSION">MENÚ - EXPLOSIÓN DE SABOR</h2>

                <!-- Contenedor Único para el Menú Filtrado -->
                <div id="menu-content" class="space-y-2 bg-[#1f1f1f] p-6 rounded-xl shadow-inner border-t-4 border-brand-red">
                    <!-- El menú filtrado se renderiza aquí por JS -->
                </div>

            </div>
        </section>

        <!-- 6. Modal para Visualización de Imagen del Plato -->
        <div id="image-modal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4" onclick="closeImageModal()">
            <!-- Fondo oscuro con alta opacidad para foco -->
            <div id="image-modal-backdrop" class="absolute inset-0"></div>

            <!-- Contenido del Modal (Mobile-First: ancho completo) -->
            <div class="modal-content relative w-full max-w-sm md:max-w-md bg-dark-bg rounded-2xl shadow-2xl overflow-hidden border-2 border-brand-gold transform scale-100" onclick="event.stopPropagation()">
                
                <!-- Botón de Cierre -->
                <button onclick="closeImageModal()" class="absolute top-3 right-3 z-10 bg-brand-red p-2 rounded-full text-white hover:bg-red-700 transition duration-200">
                    <i class="fas fa-times"></i>
                </button>

                <!-- Imagen del Plato -->
                <img id="modal-image" src="" alt="Imagen del Plato" class="w-full h-64 object-cover">
                
                <!-- Detalles del Plato -->
                <div class="p-6 text-center">
                    <h3 id="modal-title" class="text-3xl font-black title-font text-brand-gold mb-2"></h3>
                    <p id="modal-description" class="text-sm text-gray-400 italic mb-0"></p>
                    
                    <!-- 
                        Sección de PEDIDO ELIMINADA:
                        <a href="https://wa.me/message/KNZ4SJGC4PUPJ" target="_blank" class="inline-block w-full py-3 bg-brand-green text-white font-bold rounded-lg hover:bg-green-700 transition duration-200">
                            <i class="fas fa-shopping-cart mr-2"></i> 
                            <span data-es="PEDIR ESTE PLATO" data-en="ORDER THIS DISH">PEDIR ESTE PLATO</span>
                        </a>
                    -->
                </div>
            </div>
        </div>


        <!-- 7. Pie de Página con Contacto -->
        <footer class="bg-dark-bg border-t-4 border-brand-gold mt-10 py-8">
            <div class="max-w-7xl mx-auto px-4 text-center">
                <h3 class="text-2xl font-black title-font text-brand-red mb-4" data-es="¡HAZ TU PEDIDO YA!" data-en="ORDER NOW!">¡HAZ TU PEDIDO YA!</h3>
                
                <!-- Botón de WhatsApp centralizado -->
                <a href="https://wa.me/message/KNZ4SJGC4PUPJ" target="_blank" 
                   class="inline-flex items-center justify-center space-x-2 bg-brand-green text-white font-extrabold py-3 px-8 rounded-full shadow-lg hover:bg-green-700 cta-button mb-6">
                    <i class="fab fa-whatsapp text-2xl"></i>
                    <span data-es="CHATEA CON NOSOTROS" data-en="CHAT WITH US">CHATEA CON NOSOTROS</span>
                </a>

                <!-- Redes Sociales -->
                <div class="flex justify-center space-x-8 mb-6">
                    <a href="https://www.instagram.com/cielito_lindo_sm/" target="_blank" class="text-light-text hover:text-brand-gold transition duration-300 transform hover:scale-125">
                        <i class="fab fa-instagram text-3xl"></i>
                    </a>
                    <a href="#" target="_blank" class="text-light-text hover:text-brand-gold transition duration-300 transform hover:scale-125">
                        <i class="fab fa-facebook text-3xl"></i>
                    </a>
                    <a href="#" target="_blank" class="text-light-text hover:text-brand-gold transition duration-300 transform hover:scale-125">
                        <i class="fab fa-tiktok text-3xl"></i>
                    </a>
                </div>
                
                <p class="text-sm text-gray-500 mt-6">&copy; 2024 CIELITO LINDO. Sabor y Fiesta.</p>
            </div>
        </footer>

    </main>
</body>
</html>
